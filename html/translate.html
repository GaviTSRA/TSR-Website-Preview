<!DOCTYPE html>
<html>
    <head>
        <title>TSR Website | Translate </title>
        <link rel="stylesheet", href="css/translate.css">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <script>
            function getFields()
            {
                return {"Reconnect": "tsr_reconnect","TSR Client": "tsr_settings","Reset update URL": "setting_resetupdateurl_name","Vanilla Settings": "setting_vanillasettings_name","Client Settings": "setting_clientsettings_name","Playername": "setting_name_name","UUID": "setting_uuid_name","Run client side js": "setting_runclientsidejs_name","Show all hidden blocks [REQUIRES RESTART]": "setting_showallblocks_name","Manage Profiles": "setting_manage_profiles_name","Profiles": "tsr_profiles_title","Profile Name:": "tsr_profile_name","Profile UUID:": "tsr_profile_uuid","Add profile": "tsr_profile_add","Create new profile": "tsr_add_profile_title"}
            }
            function send() 
            {
                fields = getFields()

                let dcname = document.querySelector("#dcname").value;
                let lang = document.querySelector("#lang").value;

                url = "/submit?dcname="+encodeURIComponent(dcname)+"&lang="+encodeURIComponent(lang)

                for(field in fields) {
                    url += "&" + fields[field] + "=" + encodeURIComponent(document.querySelector("#" + fields[field]).value);
                }    

                window.location.href += url;
            }
            function build() 
            {
                fields = getFields()
                final = ""
                for(field in fields) {
                    current = "<label for=\"" + fields[field] + "\" >\n<p>" + field + "</p></label><input type=\"text\" id=\"" + fields[field] + "\">"
                    final += current + "\n";
                }
                document.querySelector("#fields").innerHTML = final;
            }
        </script>
    </head>

    <body onload="build()">
        <header>
            <a href="..", id="back">Back</a>
            <hr>
        </header>
        <p class="title"><strong>Translate the TSR-Foo Client<strong></p>
        <p>You will get credits in the client once the translation is implemented!</p>

        <label for="dcname" ><p>Your discord name + tag</p></label>
        <input type="text" id="dcname">
        <label for="lang" ><p>In what language are you translating?</p></label>
        <input type="text" id="lang">

        <div id="fields">

        </div>

        <button onclick="send()" id="submit">Send</button>
    </body>
</html>
